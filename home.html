<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Collège & Lycée Privé l'Avenir Bizerte</title>

  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/fontawesome.css">
  <link rel="stylesheet" href="assets/css/templatemo-edu-meeting.css">
  <link rel="stylesheet" href="assets/css/owl.css">
  <link rel="stylesheet" href="assets/css/lightbox.css">
</head>
<body>

  <!-- Sub Header -->
  <div class="sub-header">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-sm-8"></div>
        <div class="col-lg-4 col-sm-4">
          <div class="right-icons">
            <ul>
              <li><a href="#"><i class="fa fa-facebook"></i></a></li>
              <li><a href="#"><i class="fa fa-linkedin"></i></a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Header -->
  <header class="header-area header-sticky">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <nav class="main-nav">
            <a href="index.html" class="logo d-flex align-items-center gap-2">
              <img src="img/logolycee.png" alt="Logo" style="height: 45px" />
              <span>Collège & Lycée</span>
            </a>
            <ul class="nav">
              <li><a href="index.html" class="active">Accueil</a></li>
              <li><a href="parent.html">Espace Parent</a></li>
              <li><a href="eleve.html">Espace Élève</a></li>
              <li><a href="historique.html">Historique</a></li>
              <li><a href="prixTotal.html">Prix Total</a></li>
              <li><a href="#">Se Déconnecter</a></li>
            </ul>
          </nav>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Banner -->
  <section class="section main-banner" id="section1" data-section="section1">
    <video autoplay muted loop id="bg-video">
      <source src="assets/images/course-video.mp4" type="video/mp4" />
    </video>
    <div class="video-overlay header-text">
      <div class="container">
        <div class="row">
          <div class="col-lg-12">
            <div class="caption">
              <h6>Bienvenue</h6>
              <h2>Collège / Lycée Privé</h2>
              <p>l'Avenir Bizerte</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Services -->
  <section class="services">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div class="owl-service-item owl-carousel">
            <div class="item">
              <div class="icon"><img src="assets/images/service-icon-01.png" alt="Icône Parents"></div>
              <div class="down-content">
                <h4>Nombre total d’utilisateurs</h4>
                <p id="nb-parents">Chargement...</p>
              </div>
            </div>
            <div class="item">
              <div class="icon"><img src="assets/images/service-icon-02.png" alt="Icône Élèves"></div>
              <div class="down-content">
                <h4>Nombre des Élèves</h4>
                <p id="nb-eleves">Chargement...</p>
              </div>
            </div>
            <div class="item">
              <div class="icon"><img src="assets/images/service-icon-03.png" alt="Icône Élèves Payés"></div>
              <div class="down-content">
                <h4>Élèves Ayant Payé</h4>
                <p id="eleves-payes">Chargement...</p>
              </div>
            </div>
            <div class="item">
              <div class="icon"><img src="assets/images/service-icon-03.png" alt="Icône Élèves Non Payés"></div>
              <div class="down-content">
                <h4>Élèves Non Payés</h4>
                <p id="eleves-non-payes">Chargement...</p>
              </div>
            </div>
            <div class="item">
              <div class="icon"><img src="assets/images/service-icon-03.png" alt="Icône Élèves Inscrits"></div>
              <div class="down-content">
                <h4>Élèves Inscrits</h4>
                <p id="eleves-inscrits">Chargement...</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact Info -->
  <section class="contact-us" id="contact">
    <div class="container">
      <div class="row">
        <div class="col-lg-9 align-self-center"></div>
        <div class="col-lg-3">
          <div class="right-info">
            <ul>
              <li><h6>Numéro de Téléphone</h6><span>+216 93 906 726</span></li>
              <li><h6>Collège / Lycée privé l'Avenir Bizerte </h6></li>
              <li><h6>Adresse</h6><span>171.rue hassan nouri bizerte, Bizerte, Tunisia</span></li>
              <li><h6>Page Facebook</h6><span>collegeelmostakbel</span></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="footer">
        <p>
          Copyright © 2022 Edu Meeting.
          <br>Design: <a href="https://templatemo.com" target="_parent">TemplateMo</a>
          <br>Distributed By: <a href="https://themewagon.com" target="_blank">ThemeWagon</a>
        </p>
      </div>
    </div>
  </section>

  <!-- JS Scripts -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/js/isotope.min.js"></script>
  <script src="assets/js/owl-carousel.js"></script>
  <script src="assets/js/lightbox.js"></script>
  <script src="assets/js/tabs.js"></script>
  <script src="assets/js/video.js"></script>
  <script src="assets/js/slick-slider.js"></script>
  <script src="assets/js/custom.js"></script>

  <!-- API Stats Script -->
  <script>
    async function fetchEleveStats() {
      try {
        const response = await fetch("https://backendamira.onrender.com/api/eleves");
        const eleves = await response.json();

        const totalEleves = eleves.length;
        const parents = totalEleves; // à remplacer par un vrai compte si dispo
        const elevesPayes = eleves.filter(e => e.payee === true).length;
        const elevesNonPayes = eleves.filter(e => e.payee === false).length;
        const elevesInscrits = eleves.filter(e => e.inscrit === true).length;

        document.getElementById("nb-eleves").textContent = totalEleves;
        document.getElementById("nb-parents").textContent = parents;
        document.getElementById("eleves-payes").textContent = elevesPayes;
        document.getElementById("eleves-non-payes").textContent = elevesNonPayes;
        document.getElementById("eleves-inscrits").textContent = elevesInscrits;
      } catch (error) {
        console.error("Erreur lors du chargement des statistiques :", error);
        document.querySelectorAll('#nb-eleves, #nb-parents, #eleves-payes, #eleves-non-payes, #eleves-inscrits')
          .forEach(el => el.textContent = 'Erreur');
      }
    }

    document.addEventListener("DOMContentLoaded", fetchEleveStats);
  </script>
</body>
</html>
